# دليل التثبيت والتشغيل

## المتطلبات الأساسية

### 1. تثبيت Node.js

#### لنظام Windows:
1. قم بتحميل Node.js من [الموقع الرسمي](https://nodejs.org/)
2. اختر الإصدار LTS (18.x أو أحدث)
3. شغل الملف المحمل واتبع خطوات التثبيت
4. تأكد من التثبيت بفتح موجه الأوامر (CMD) وكتابة:
   ```bash
   node --version
   npm --version
   ```

#### لنظام macOS:
```bash
# باستخدام Homebrew (موصى به)
brew install node

# أو حمل من الموقع الرسمي
# https://nodejs.org/
```

### 2. تثبيت Git (اختياري)

- Windows: [تحميل Git](https://git-scm.com/download/win)
- macOS: `brew install git` أو من [الموقع الرسمي](https://git-scm.com/download/mac)

## تثبيت المشروع

### الطريقة الأولى: باستخدام Git (موصى به)

```bash
# استنساخ المستودع
git clone https://github.com/Abdellah252627/Sys-school.git

# الدخول لمجلد المشروع
cd Sys-school
```

### الطريقة الثانية: التحميل المباشر
1. اضغط على زر "Code" ثم "Download ZIP"
2. فك ضغط الملف في المجلد المطلوب
3. افتح موجه الأوامر في مجلد المشروع

## تثبيت المكتبات المطلوبة

```bash
# تثبيت حزم npm
npm install
```

## إعداد قاعدة البيانات

```bash
# إنشاء ملف قاعدة البيانات الأولي
node db/init.js
```

## تشغيل التطبيق

### الوضع العادي
```bash
npm start
```

### وضع التطوير (مع إعادة تحميل تلقائي)
```bash
npm run dev
```

## الوصول للتطبيق

افتح متصفحك واذهب إلى:
```
http://localhost:3000
```

## بيانات الدخول الافتراضية

- **حساب المدير**:
  - البريد الإلكتروني: admin@school.com
  - كلمة المرور: admin123

## تحديث التطبيق

```bash
# حفظ التغييرات المحلية (إذا وجدت)
git stash

# جلب التحديثات
git pull origin main

# تثبيت المكتبات الجديدة (إذا وجدت)
npm install
```

## استكشاف الأخطاء وإصلاحها

### 1. مشاكل في تثبيت الحزم

```bash
# حذف مجلد node_modules وملف package-lock.json
rm -rf node_modules package-lock.json

# تنظيف ذاكرة التخزين المؤقت
npm cache clean --force

# إعادة تثبيت الحزم
npm install
```

### 2. مشاكل في المنافذ

إذا ظهرت رسالة تفيد بأن المنفذ 3000 قيد الاستخدام:
- قم بإغلاق أي نافذة أخرى للتطبيق
- أو قم بتغيير المنفذ في ملف `server.js`

### 3. مشاكل في قاعدة البيانات
- تأكد من وجود صلاحيات الكتابة في مجلد `db/`
- تأكد من وجود ملف `database.db` في مجلد `db/`
- جرب إعادة تهيئة قاعدة البيانات:
  ```bash
  node db/init.js
  ```

### 4. مشاكل في التبعيات

إذا واجهتك مشاكل مع التبعيات القديمة:
```bash
# حذف مجلد node_modules
rm -rf node_modules/

# تثبيت أحدث إصدار من npm
npm install -g npm@latest

# إعادة تثبيت الحزم
npm install
```

## الاتصال بالدعم

إذا واجهتك أي مشاكل أخرى، يرجى فتح [issue جديد](https://github.com/Abdellah252627/Sys-school/issues) مع وصف للمشكلة ورسائل الخطأ (إن وجدت).
